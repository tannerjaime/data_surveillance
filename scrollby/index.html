<html>
  <head>
<style>
  #demo {width: 100%; height: 100% }
  body {margin: 0}
</style>
  </head>
  <body>
    <div id="demo"></div>
    <script src="pt.min.js"></script>
    <script src="names.js"></script>
    <script type="text/javascript">
      var space = new CanvasSpace( "pt_space", "black" ).display("#demo");
      var form = new Form( space );

      var alphabets = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"; // alphabets to switch every step
      var fonts = ["monospace"]; // fonts to switch every 26 steps
      var count = 0;
      var maxScale = 250;
      var scale = 25;
      var censor = function(name) {
        var t = 3;
        return name.substr(0,t) + "****************".substr(0,name.length - t);
      }
      var padName = function(name, len) {
        return name + "                             ".substring(0,len - name.length);
      }
      var c = 0;
      var fontSize = 18;
      var maxRows = space.size.y / fontSize;
      space.add({
        animate: function(time, fps, context) {
          if(time % 1000 < 300) c = c < window.voternames.length - maxRows -1 ? c + 1 : 0;
          for(var i = 0; i<maxRows;i++) {
            v = window.voternames[c+i];
            form.fill( "#eee" ).font( fontSize, "monospace");
            form.text( new Point(20, 30 + 20*i), `${v.PARTY_AFFILIATION ? v.PARTY_AFFILIATION : " "} ${padName(v.FIRST_NAME, 10)} ${padName((v.LAST_NAME), 15)}  ${v.DATE_OF_BIRTH + "   "} ${padName(v.RESIDENTIAL_ADDRESS1, 25)} ${padName(v.RESIDENTIAL_CITY, 15)} ${v.RESIDENTIAL_ZIP} ${padName(v.RESIDENTIAL_CITY,20)}`, 2000);
          }
          form.fill("black").rect( new Pair(space.size.x/2 - 230,space.size.y/2 - 50,space.size.x/2 +230,space.size.y/2 + 20) ).stroke(false);
          form.fill("white").font(30, "monospace").text( new Point(space.size.x/2, space.size.y/2), "This is what they know",1000,-200);
        },
        onSpaceResize(x,y) {
        }
      });
      space.bindMouse();
      space.play();
    </script>
  </body>
</html>

